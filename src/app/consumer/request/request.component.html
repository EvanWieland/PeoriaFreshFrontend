<div class="mt-5">
  <h2 class="mb-3">Select what you want more of</h2>

  <form
    *ngIf="produce"
    name="form"
    (ngSubmit)="requestForm.form.valid && onSubmit()"
    #requestForm="ngForm"
    novalidate
  >
    <ul class="list-group mb-3">
      <li class="list-group-item d-flex" *ngFor="let item of produce">
        <input class="form-check-input me-3" type="checkbox" [value]="false"
               id="input-{{item.id}}"
               (change)="onCheckboxChange($event, item.id)">
        <label class="form-check-label flex-fill" for="input-{{item.id}}">{{item.name}}</label>
      </li>
    </ul>

    <button type="submit" class="btn btn-primary" [disabled]="!selected.length || (requestForm.submitted && !error)">
      Submit
    </button>

    <div
      class="alert alert-danger mt-2"
      role="alert"
      *ngIf="requestForm.submitted && error">
      Request failed: {{ error }}
    </div>

    <div
      class="alert alert-success mt-2 d-flex justify-content-between align-items-center"
      role="alert"
      *ngIf="requestForm.submitted && !error">
      Request successful!
      <button type="button" class="btn btn-success" routerLink="/home">Go home</button>
    </div>
  </form>


</div>
